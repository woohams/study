<?xml-stylesheet href="/common/css/comStyle.css" type="text/css"?>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ev="http://www.w3.org/2001/xml-events"
    xmlns:w2="http://www.inswave.com/websquare" xmlns:xf="http://www.w3.org/2002/xforms">
    <head meta_screenId="TMMC0010" meta_screenName="사업장관리">
    	<w2:type>DEFAULT</w2:type>
    	<w2:buildDate />
    	<xf:model>
    		<xf:instance>
    			<data xmlns="" />
    		</xf:instance>
			<w2:dataCollection baseNode="map">
				<w2:dataList id="dtlTestList1" baseNode="list" style="" saveRemovedData="true" repeatNode="map" valueAttribute=""
					rowNumData="" ev:onrowpositionchange="scwin.dtlTestList1_onrowpositionchange"
					ev:oncelldatachange="scwin.dtlTestList1_oncelldatachange">
					<w2:columnInfo>
						<w2:column id="ENFC_CODE" name="사업장코드" dataType="text"></w2:column>
						<w2:column id="STDS_DATE" name="기준일" dataType="text"></w2:column>
						<w2:column id="ENFC_NAME" name="사업장명" dataType="text"></w2:column>
						<w2:column id="ENGL_OFFN" name="영문사업장명" dataType="text"></w2:column>
						<w2:column id="DCLR_OFFC" name="신고사업장코드" dataType="text"></w2:column>
						<w2:column id="DCLR_OFFC_NAME" name="신고사업장명" dataType="text"></w2:column>
						<w2:column id="RPRS_NAME" name="대표자성명" dataType="text"></w2:column>
						<w2:column id="RERN_NUMB" name="주민등록번호" dataType="text"></w2:column>
						<w2:column id="BIZR_NUMB" name="사업자번호" dataType="text"></w2:column>
						<w2:column id="CORP_NUMB" name="법인번호" dataType="text"></w2:column>
						<w2:column id="BUTY_NAME" name="업태명" dataType="text"></w2:column>
						<w2:column id="BUSI_LTNM" name="사업종목명" dataType="text"></w2:column>
						<w2:column id="ESTA_DATE" name="설립일" dataType="text"></w2:column>
						<w2:column id="CLOS_DATE" name="폐업일" dataType="text"></w2:column>
						<w2:column id="TELE_NUMB" name="전화번호" dataType="text"></w2:column>
						<w2:column id="FAXX_NUMB" name="팩스번호" dataType="text"></w2:column>
						<w2:column id="USEX_YSNO" name="사용여부" dataType="text"></w2:column>
						<w2:column id="POST_NUMB" name="우편번호" dataType="text"></w2:column>
						<w2:column id="DTL1_ADDR" name="상세1주소" dataType="text"></w2:column>
						<w2:column id="DTL2_ADDR" name="상세2주소" dataType="text"></w2:column>
						<w2:column id="ENGL_ADDR" name="영문주소" dataType="text"></w2:column>
						<w2:column id="TXOF_CODE" name="관할세무서코드" dataType="text"></w2:column>
						<w2:column id="TXOF_NAME" name="관할세무서명" dataType="text"></w2:column>
						<w2:column id="CIOF_CODE" name="관할구청코드" dataType="text"></w2:column>
						<w2:column id="CIOF_NAME" name="관할구청명" dataType="text"></w2:column>
						<w2:column id="HMTX_IDXX" name="홈택스ID" dataType="text"></w2:column>
						<w2:column id="PRNT_OFFN" name="출력사업장명" dataType="text"></w2:column>
						<w2:column id="PBGN_CODE" name="본지점구분코드" dataType="text"></w2:column>
						<w2:column id="FILE_PATH" name="파일경로" dataType="text"></w2:column>
						<w2:column id="KFTI_IDXX" name="금결원ID" dataType="text"></w2:column>
						<w2:column id="TFIT_CODE" name="거래금융기관코드" dataType="text"></w2:column>
						<w2:column id="OERP_CODE" name="구ERP코드" dataType="text"></w2:column>
						<w2:column id="ENFC_NUMB" name="사업장관리번호" dataType="text"></w2:column>
						<w2:column id="DUTY_FREE" name="면세업종여부" dataType="text"></w2:column>
					</w2:columnInfo>
					<w2:data use="true"></w2:data>
				</w2:dataList>
				<w2:dataMap baseNode="map" id="dtmTest1" style="">
					<w2:keyInfo>
						<w2:key id="STDS_DATE" name="기준일" dataType="text"></w2:key>
						<w2:key id="ENFC_NAME" name="사업장명" dataType="text"></w2:key>
					</w2:keyInfo>
				</w2:dataMap>
				<!-- 파일업로드에서 사용하는 데이타리스트: 팝업창에서 생성한 리턴값을 담았다가 서버저장때 파라미터 용도로 사용 -->
				<!-- 증명사진이미지 전용 -->
				<w2:dataList baseNode="list" id="dtlTestList2" style="" saveRemovedData="true" repeatNode="map">
					<w2:columnInfo>
						<w2:column id="FILE_IDXX" name="파일ID" dataType="text"></w2:column>
						<w2:column id="PFIL_NAME" name="물리파일명" dataType="text"></w2:column>
						<w2:column id="FILE_PATH" name="파일경로" dataType="text"></w2:column>
						<w2:column id="FILE_NAME" name="파일명" dataType="text"></w2:column>
						<w2:column id="LFIL_NAME" name="논리파일명" dataType="text"></w2:column>
						<w2:column id="EXTN_NAME" name="확장자" dataType="text"></w2:column>
						<w2:column id="FILE_TYPE" name="사진/사인구분" dataType="text"></w2:column>
						<w2:column id="ENFC_CODE" name="사업장코드" dataType="text"></w2:column>
						<w2:column id="STDS_DATE" name="기준일" dataType="text"></w2:column>
					</w2:columnInfo>
				</w2:dataList>
			</w2:dataCollection>
		</xf:model>
		<script type="javascript" lazy="false"><![CDATA[
/***************************************************************************************************
*                                    초기화 부분                                     			   *
***************************************************************************************************/
/*-----------------------------------+
|  01.화면변수 선언  |
+------------------------------------*/
scwin.globalVal = {	
	  sBUTTONLIST : 'TTTTFTT'	    		//공통기능정의(조회,추가,삭제,저장,인쇄,엑셀,종료)				
	, sKeyValue : new Array()
	, sFILE_PATH : new Array()				//파일경로
};	

/*-----------------------------------+
|  02.최초 화면 Load時 처리 할 사항   |
	@parameter : 
	@return :
+------------------------------------*/ 
scwin.onpageload = function() {
        
	//초기화 및 권한체크 
	comLib.FormLoadSetting();
     	
   	//코드 바인딩
   	var codeOption = [
   		  {COMM_CODE : "USEX_YSNO", object : [cmbUSEX_YSNO]}				//사용여부
   		, {COMM_CODE : "PBGN_CODE", object : [grdTM_BRCHXM, cmbPBGN_CODE]}	//사업장구분
   	];	
	comLib.setCodeObject(codeOption);
	
	//초기값 세팅
	ipcSHRSTDS_DATE.setValue(dateLib.CurrentDate("yyyyMMdd"));
	
	//그룹초기화
	comLib.ObjReadOnly(grpTM_BRCHXM,true, "");
		
	//검색조건 포커스          	
	ipcSHRSTDS_DATE.focus();
	
	//개인정보10건 이상 검색시 로그기록용 파라미터
   	grdTM_BRCHXM.setUserData("PRIVATE_INFO_XLS","MHRMA0010:조건검색관리:주민등록번호,사무실전화번호");
	
};

/***************************************************************************************************
*                                   공통버튼 Event 처리 부분                          			   *
***************************************************************************************************/			  		
/*-----------------------------------+
|  03.조회 버튼 클릭 時  |
	@parameter : rtnValue (콜백요청시 true/false)
	@return :
+------------------------------------*/      	
scwin.getCommonSearch = function (rtnValue) {
    
    if (rtnValue == false) return;
	
	//변경여부 체크
	if(valLib.checkModified([dtlTestList1, dtlTestList2]) && rtnValue != true) {
	
		comLib.Message("TMM006",true, "getCommonSearch");
		
	} else {
		//필수조회조건체크
		if (!scwin.checkSearchItem()) return;
		
		scwin.setSubmitArg("SEARCH00");
	}
	
};
       	
/*-----------------------------------+
|  04.입력 버튼 클릭 時  |		
	@parameter : 
	@return :
+------------------------------------*/
scwin.setCommonInput = function () {
	
	//row 추가
	var row = dtlTestList1.insertRow();         //행추가
	
	//초기값세팅
	dtlTestList1.setCellData(row, "USEX_YSNO", "1");
	dtlTestList1.setCellData(row, "STDS_DATE", dateLib.CurrentDate("yyyyMMdd"));	//기준일
	
	//입력행 포커스
	grdTM_BRCHXM.setFocusedCell(row, 0);
	
	iptENFC_CODE.focus();
			
};
       	
/*-----------------------------------+
|  05.삭제 버튼 클릭 時  |		
	@parameter : rtnValue (콜백요청시 true/false)
	@return :
+------------------------------------*/
scwin.setCommonDelete = function (rtnValue) {
	
	if(rtnValue == false) return;
	
	if (dtlTestList1.getTotalRow() > 0) {
		
		if(rtnValue == true) {
			comLib.removeGridView(grdTM_BRCHXM);
        	
        	if (dtlTestList1.getTotalRow() == 0) {	//삭제한 행이 마지막 행이라면 그룹 초기화
       			comLib.ObjReadOnly(grpTM_BRCHXM,true, "");
       		}
       		
		} else {
			//삭제여부 확인
			scwin.checkDelete();
		}			
        
	} else {			
		comLib.Message("TMM007", true);	//삭제 자료 없음 정보 Display			
	}
			
};		
       	
/*-----------------------------------+
|  06.저장 버튼 클릭 時  |		
	@parameter : 
	@return :
+------------------------------------*/    
scwin.setCommonSave = function () {
	
	if (!scwin.checkSaveItem()) return;
	
	scwin.globalVal.sKeyValue[0] = dtlTestList1.getCellData(dtlTestList1.getRowPosition(), "ENFC_CODE");
	
	scwin.setSubmitArg("SAVE00"); 	
	
};

/*-----------------------------------+
|  07.인쇄 버튼 클릭 時  |		
	@parameter : 
	@return :
+------------------------------------*/
scwin.getCommonPrint = function () {
	//기능없음.
};

/***************************************************************************************************
*                                   공통 Function 처리 부분                          			   *
***************************************************************************************************/ 
/*-----------------------------------+
|  08.서브미션 호출 시 넘어 갈 Argument 생성 및 서브미션 호출  |		
	@parameter : sMethodName(Task함수명)
	@return :
+------------------------------------*/  
scwin.setSubmitArg = function (sMethodName) {
			
	var option;
			
	switch (sMethodName) {
	
		case 'SEARCH00' :
			
			option = { 
				  id : sMethodName
				, action : "/TMMC0010/SEARCH00.do"
				, ref : "data:json, {'id':'dtmTest1', 'key':'param'}"
				, target : "data:json, {'id':'dtlTestList1', 'key':'data'}"
				, submitDoneHandler : "setPostProcess" 
			};
						 
			break;	
			
		case 'SAVE00' :
			
			option = { 
				  id : sMethodName
				, action : "/TMMC0010/SAVE00.do"
				, ref : "data:json, [{'id':'dtlTestList1', 'action':'modified', 'key':'TM_BRCHXM'}," +
								    "{'id':'dtlTestList2', 'action':'modified', 'key':'FL_ATTACH_A'}]"
				, submitDoneHandler : "setPostProcess"
				, isShowMeg : true 
			};
						
       		break;
       		
       	case 'UPDATE01' :
       		//사진 저장
       		
			option = { 
				  id : sMethodName
				, action : "/TMMC0010/SAVE00.do"
				, ref : "data:json, {'id':'dtlTestList2', 'action':'modified', 'key':'FL_ATTACH_A'} "
				, submitDoneHandler : "setPostProcess"
				, isShowMeg : false
			};
			
       		break;
       	
       	default :
       		break;
	} 	
			
	ajaxLib.executeSubmission(option);	
};
		
/*-----------------------------------+
|  09.서브미션 Transaction 후 Post Process  |		
	@parameter : sMethodName(Task함수명), e(서브미션 호출 후 리턴 Doc)
	@return :
+------------------------------------*/
scwin.setPostProcess = function (sMethodName, e) {
			
	if(ajaxLib.IsWarning(e)) {
		return;
	}
			
	switch (sMethodName) { 
	
		case 'SEARCH00' :
			
			if (comLib.Result(e) > 0) {
				var iRow;

				iRow = dtlTestList1.getMatchedIndex("ENFC_CODE", scwin.globalVal.sKeyValue[0], true);
				scwin.globalVal.sKeyValue[0] = "";
				
				if (iRow.length==0) {
					iRow[0] = 0;
				}
				
				grdTM_BRCHXM.setFocusedCell(iRow[0], 0, false);
			
			} else {
			
				comLib.ObjReadOnly(grpTM_BRCHXM,true, "");						
			}
				
			comLib.Information(optInformation, e, "S");
			
			break;
				
		case 'SAVE00' :
			if (comLib.Result(e) > 0) {
         			
       			dtlTestList1.reform();
       			
       			var row = dtlTestList1.getRowPosition();
		       	grdTM_BRCHXM.removeFocusedCell();
				grdTM_BRCHXM.setFocusedCell( row , 0);
       			
				dtlTestList2.removeAll();
				dtlTestList2.reform();
				
       			comLib.Information(optInformation, e, "C");
				
   			}
   			scwin.setSubmitArg("SEARCH00");
       		break;
       		
       	case 'UPDATE01' :
       		if(comLib.Result(e) > 0) {
       		
				comLib.Information(optInformation, e, "C");
				
				//증명사진/서명 저장후 초기화
				//변경자료 체크로 인해 reform(); 추가
				//save01 이후, changerowindex 이후
				dtlTestList2.removeAll();
				dtlTestList2.reform();
				
				//사진만 저장하는 경우 SAVE00 의 comLib.Result(e) 가 0이라서 인사마스터 리스트가 갱신되지 않는다..
				
				//사진 저장후 이미지 url을 HR_MASTXM 에서 따와야 하는데
				//DB만 변경되고 DATALIST는 그대로인 상태에서 HR_MASTXM을 갱신시킬 방법이 없다.
				
				//scwin.setSubmitArg("SAVE00");
				
			}
			
			/*
       		if(comLib.Result(e) > 0) {
				
				vtFileData = WebSquare.collection.toVector("<vector/>");
     					vtDelFile = WebSquare.collection.toVector("<vector/>");
				
				comLib.Information(optInformation, e, "C");
				
				//원래행으로 돌아갈 수 있도록....
				scwin.globalVal.sKeyValue = dtlTestList1.getCellData( grdTM_BRCHXM.getFocusedRowIndex(), "ENFC_CODE" );
				
				getCommonSearch();
				
			}
			*/
       		break;
       		
       	default :
       		break;
	} 	

}; 	
		
/*-----------------------------------+
|  10.공통팝업 오픈  |		
	@parameter : obj(그리드 또는 컨트롤), sFromGrd(그리드 onChange 에서 호출할 경우 true) 
	@return :
+------------------------------------*/
scwin.openHelpDialog = function (obj, sFromGrd) {

	if(!comLib.bUsePopup) return;
	
	if(typeof obj == "object") {
		obj = this;
	}
	var param = new Array();  
	var arrParam = new Array();
	
	if (obj.getOriginalID() == "imgHelpDCLR_OFFC" || obj.getOriginalID() == "iptDCLR_OFFC_NAME") {
	
		if(iptDCLR_OFFC_NAME.getReadOnly()) return;			
				//대표사업장
		param[0] = new Array("ENFC_NAME", iptDCLR_OFFC_NAME.getValue());
		param[1] = new Array("USEX_YSNO", "0");
		
		arrParam[0] = "TMM0009";                	//Popup ID				
		arrParam[1] = param;                  		//parameter					
		arrParam[2] = "iptDCLR_OFFC,iptDCLR_OFFC_NAME"; 	//초기화 및 결과 Mapping Column
		arrParam[3] = "ENFC_CODE,ENFC_NAME";       	//Mapping Column
					
		comLib.HelpDialog(obj, arrParam);
		
	} else if (obj.getOriginalID() == "imgHelpPOST_NUMB") {
	
		if(iptDTL2_ADDR.getReadOnly()) return;			
				//주소
		param[0] = new Array("POST_NUMB", "");
		param[1] = new Array("DORO_YSNO", "Y");
		
		arrParam[0] = "TMM0010";                		//Popup ID				
		arrParam[1] = param;                  			//parameter					
		arrParam[2] = "iptPOST_NUMB,iptDTL1_ADDR";  	//초기화 및 결과 Mapping Column
		arrParam[3] = "POST_NUMB,ADDRESS";            	//Mapping Column
					
		comLib.HelpDialog(obj, arrParam);
		iptDTL2_ADDR.focus();
		
	} else if (obj.getOriginalID() == "imgHelpTXOF_CODE" || obj.getOriginalID() == "iptTXOF_NAME") {
		//관할세무소
		if(iptTXOF_NAME.getReadOnly()) return;
		
		param[0] = new Array("COMD_CDNM", iptTXOF_NAME.getValue());
		param[1] = new Array("COMM_CODE", "TXOF_CODE");
		param[2] = new Array("USEX_YSNO", "1");
		
		arrParam[0] = "TMM1000";                   	//Popup ID				
		arrParam[1] = param;                  		//parameter					
		arrParam[2] = "iptTXOF_CODE,iptTXOF_NAME"; 	//초기화 및 결과 Mapping Column
		arrParam[3] = "COMD_CODE,COMD_CDNM";  		//Mapping Column
							
		comLib.HelpDialog(obj, arrParam);
		
	} else if (obj.getOriginalID() == "imgHelpCIOF_CODE" || obj.getOriginalID() == "iptCIOF_NAME") {
		//관할구청
		if(iptCIOF_NAME.getReadOnly()) return;
		
		param[0] = new Array("COMD_CDNM", iptCIOF_NAME.getValue());
		param[1] = new Array("COMM_CODE", "CIOF_CODE");
		param[2] = new Array("USEX_YSNO", "1");
		
		arrParam[0] = "TMM1000";                   	//Popup ID				
		arrParam[1] = param;                  		//parameter					
		arrParam[2] = "iptCIOF_CODE,iptCIOF_NAME"; 	//초기화 및 결과 Mapping Column
		arrParam[3] = "COMD_CODE,COMD_CDNM";  		//Mapping Column
							
		comLib.HelpDialog(obj, arrParam);
		
	} else if (obj.getOriginalID() == "imgDeltPOST_NUMB") {
		//주소 초기화
		iptPOST_NUMB.setValue("");
		iptDTL1_ADDR.setValue("");
		iptDTL2_ADDR.setValue("");
	}
	
};
		
/*-----------------------------------+
|  11.화면 닫기 전 체크   |		
	@parameter : 
	@return :bool
+------------------------------------*/
scwin.checkFormUnload = function () {
	
	comLib.CheckFormUnload([dtlTestList1]);
};
       	
				
/*-----------------------------------+
|  12.조회 필수 조건 체크   |		
	@parameter : 
	@return :bool
+------------------------------------*/		
scwin.checkSearchItem = function () {
		
	return valLib.validateGroup(grpSearchArea);	
	
};
		
/*-----------------------------------+
|  13.삭제 여부 체크   |		
	@parameter : 
	@return :bool
+------------------------------------*/
scwin.checkDelete = function () {	
	
	var row = dtlTestList1.getRowPosition();
			
	// 한 건 삭제 처리시 해당 항목에 대한 삭제 여부 확인
	var sQuestionText = "사업장 : " + dtlTestList1.getCellData(row,"ENFC_NAME");
	
	comLib.Message("TMM002", true, sQuestionText, "setCommonDelete");
					
};
		
/*-----------------------------------+
|  14.저장 여부 체크   |		
	@parameter : 
	@return :bool
+------------------------------------*/	
scwin.checkSaveItem = function () {

	//변경된 자료가 있는지 체크
	if(valLib.checkModified([dtlTestList1,dtlTestList2], true)) {
		//필수 입력 항목 체크
		var valInfo = [ {id : "ENFC_CODE", component : "iptENFC_CODE", mandatory : true, chklength : 4, isHangul : false}, //사업장코드
						{id : "ENFC_NAME", component : "iptENFC_NAME", mandatory : true, isHangul : true},	//사업장명
						{id : "STDS_DATE", component : "ipcSTDS_DATE", mandatory : true},	//기준일
						{id : "BIZR_NUMB", component : "iptBIZR_NUMB", mandatory : true, chklength : 10, isBizID : true},	//사업자번호
						{id : "CORP_NUMB", component : "iptCORP_NUMB", mandatory : true},	//법인번호
						{id : "RERN_NUMB", component : "iptRERN_NUMB", mandatory : false, isPersonID : true},				//주민번호	
						{id : "RPRS_NAME", component : "iptRPRS_NAME", mandatory : true},		//대표자
						{id : "USEX_YSNO", component : "cmbUSEX_YSNO", mandatory : true},	//사용여부
						{id : "PBGN_CODE", component : "cmbPBGN_CODE", mandatory : true},		//본지점구분코드
						{id : "ENFC_NUMB", component : "iptENFC_NUMB", mandatory : true}		//사업장구분
						 ];
	 	return valLib.validateGridView(grdTM_BRCHXM, valInfo);
	 	
 	} else {
 		return false;
 	}
				
};
		
/***************************************************************************************************
*                                   사용자정의 Event 처리 부분                        			   *
***************************************************************************************************/
    	
/***************************************************************************************************
*                                   사용자정의 Function 처리 부분                      			   *
***************************************************************************************************/     	

/***************************************************************************************************
*                                   컴포넌트 동적 Event 처리 부분                       		   *
***************************************************************************************************/
/*-----------------------------------+
|  그리드 row 변경 이벤트		     |		
	@parameter : info.newRowIndex, info.oldRowIndex
	@return :
+------------------------------------*/
scwin.dtlTestList1_onrowpositionchange = function(info) {
/*
	var filepath = WebSquare.ModelUtil.getInstanceValue("dsTM_BRCHXM/returnMsg/FILE_PATH/@value");
	var filename = dtlTestList1.getCellData(grdTM_BRCHXM.getFocusedRowIndex(),"ENFC_CODE")
						+ dtlTestList1.getCellData(grdTM_BRCHXM.getFocusedRowIndex(), "STDS_DATE") + ".jpg";
	var url = "/cmm/lib/imageView.do?path=" + filepath + "&name=" + filename + "&tsmp=" + (new Date().getTime());
	imgSTMP_FILE.setSrc(url);
*/		
	//변경여부 체크
	comLib.ObjReadOnly(grpTM_BRCHXM,false, "iptDCLR_OFFC iptPOST_NUMB");
		
	//KEY 필드 DISABLE
	if (dtlTestList1.getRowStatus( info.newRowIndex ) == "C" ) {
		iptENFC_CODE.setReadOnly( false );
	} else {
		iptENFC_CODE.setReadOnly( true );	
	}
	
	//로우 변경시 임시저장된 증명사진/서명 자료를 제거한다.
	//변경자료 체크로 인해 reform(); 추가
	//save00 -> getcommonSearch() -> changerowindex
	dtlTestList2.removeAll();
	dtlTestList2.reform();

	//이미지를 등록/삭제하면 dtlFL_ATTACH 의 임시 파일 패스에서 읽다가 저장후 dtlTestList1 에서 읽는다.	
	var filepath = dtlTestList1.getCellData(info.newRowIndex,"FILE_PATH");
	var filename = dtlTestList1.getCellData(info.newRowIndex,"ENFC_CODE");
	var stdsdate = dtlTestList1.getCellData(info.newRowIndex,"STDS_DATE") + ".jpg";
	
	var url = "/cmm/lib/imageView.do?path=" + filepath + "&name=" + filename + stdsdate;
	imgSTMP_FILE.setSrc(url);
	
};

/*-----------------------------------+
|  그리드 onChange 처리   |		
	@parameter : info.rowIndex, info.colID, info.oldValue, info.newValue
	@return :bool
+------------------------------------*/
scwin.dtlTestList1_oncelldatachange = function(info) {
	
};

scwin.image2_onmouseover = function(e) {
	this.setStyle("cursor", "pointer");
    this.setSrc("/images/button/btn_imgIns_over.gif");
};
		
scwin.image2_onmouseout = function(e) {
	this.setStyle("cursor", "default");
    this.setSrc("/images/button/btn_imgIns.gif");
};

/*-----------------------------------+
|  사진 이미지 등록 버튼 클릭 時   |
	@parameter : 
	@return :
+------------------------------------*/  		
scwin.image2_onclick = function(e) {
	/*
	comLib.CallFileUplod("request/fileupload", 1, "jpg,gif");
			
	var fileDoc = WebSquare.ModelUtil.findInstanceNode( "request/fileupload/FILE_INFO/FILE_LIST/vector" );
	
	if(fileDoc != null) {
	
		vtFileData = WebSquare.collection.toVector( WebSquare.xml.serialize(fileDoc) );
		WebSquare.ModelUtil.setInstanceValue( "request/UPDATE01/FILE_MODE/@value", "U" );		//처리구분 ("U" : 업로드 , "D" : 삭제)
		
		setSubmitArg("UPDATE01");
		
	}
	*/
	
	scwin.uploadProfileImg();
	
};	
		
scwin.image1_onmouseover = function(e) {
	this.setStyle("cursor", "pointer");
    this.setSrc("/images/button/btn_imgDel_over.gif");
};

scwin.image1_onmouseout = function(e) {
	this.setStyle("cursor", "default");
    this.setSrc("/images/button/btn_imgDel.gif");
};

/*-----------------------------------+
|  사진 이미지 삭제 버튼 클릭 時   |
	@parameter : 
	@return :
+------------------------------------*/  
scwin.image1_onclick = function(e) {
	/*
	var sImgPath = WebSquare.ModelUtil.getInstanceValue("dsTM_BRCHXM/returnMsg/FILE_PATH/@value");
			
	if(sImgPath != "") {
		var deleteDoc = WebSquare.xml.parse( "<DELETE_FILE/>" );
		WebSquare.xml.setValue( deleteDoc, "/DELETE_FILE/FILE_NAME", "value", sImgPath );
		WebSquare.ModelUtil.setInstanceValue( "request/UPDATE01/FILE_MODE/@value", "D" );		//처리구분 ("U" : 업로드 , "D" : 삭제)
		vtDelFile.addElement(deleteDoc);
		setSubmitArg("UPDATE01");
	}
	*/
	scwin.deleteProfileImg();
};		


/*-----------------------------------+
|  사진 이미지 삭제 버튼 클릭 時   |
	@parameter : 
	@return :
+------------------------------------*/  
scwin.deleteProfileImg = function() {
	if (comLib.Trim(dtlTestList1.getCellData(grdTM_BRCHXM.getFocusedRowIndex(), "ENFC_CODE")).length < 1 && dtlTestList1.getRowStatus(grdTM_BRCHXM.getFocusedRowIndex()) != "C") {
		comLib.Message("TMM013", true);                //사원을 선택하세요.
		return false;
	}
	
	var sImgPath =dtlTestList1.getCellData(grdTM_BRCHXM.getFocusedRowIndex(),"FILE_PATH");
	
	if(sImgPath != "") {
		
		//파일업로드를 하기 전에 이전 정보를 삭제한다.
		//팝업창->서버업로드 로직이 한번에 가기 때문에 여기서 초기화 시키면 된다.
		dtlTestList2.removeAll();
		
		var uprow=dtlTestList2.insertRow();
		
		dtlTestList2.setCellData(uprow, "FILE_PATH", sImgPath);	//물리저장경로(임시폴더임)

		dtlTestList2.setCellData(uprow, "ENFC_CODE", dtlTestList1.getCellData( grdTM_BRCHXM.getFocusedRowIndex() , "ENFC_CODE" ) );	//사업장
		dtlTestList2.setCellData(uprow, "STDS_DATE", dtlTestList1.getCellData( grdTM_BRCHXM.getFocusedRowIndex() , "STDS_DATE" ) );	//기준일
		dtlTestList2.setCellData(uprow, "FILE_TYPE","S");	//서명/증명사진 구분(A : 증명사진, S : 서명 이미지)	
		dtlTestList2.modifyRowStatus( uprow , "D" );//해당 첨부파일 삭제
		
		imgSTMP_FILE.setSrc(null);
		
		dtlTestList1.setCellData(grdTM_BRCHXM.getFocusedRowIndex(), "FILE_PATH", null);			// PATH 초기화
		//이후 저장버튼 (save00)을 실행했을때 인사마스터 테이블에 저장되고
		//save00 -> scwin.getCommonSearch(); -> scwin.changerowindex() 에서 dtlHR_MASTXM 의 파일패스로 보여준다.
		
	}
};

/*-----------------------------------+
|  사진 이미지 등록 버튼 클릭 時   |
	@parameter : 
	@return :
+------------------------------------*/  
scwin.uploadProfileImg = function() {

	if (comLib.Trim(dtlTestList1.getCellData(grdTM_BRCHXM.getFocusedRowIndex(), "ENFC_CODE")).length < 1 && dtlTestList1.getRowStatus(grdTM_BRCHXM.getFocusedRowIndex()) != "C") {
		comLib.Message("TMM013", true);	//사원을 선택하세요.
		return false;
	}
	
	//comLib.Message("TMM068", true); //증명사진으로 등록하시기 바랍니다.
	
	/* 파일업로드 함수 호출
	 * 사용예 : comLib.CallFileUplod(xpath, maxfilelimit, filter);
	 * 파라미터 xpath : 파일업로드 후 파일정보를 넣을 xpath
	 * 파라미터 maxfilelimit : 최대 업로드 가능 파일 갯수
	 * 파라미터 filter 업로드 가능한 파일 확장자
	 * 반환값 : 지정한 xpath에 저장한 파일의 정보를 Document 형식으로 저장함
	 */
	comLib.CallFileUplod("FILE_UPLOAD", 1, "jpg,gif","scwin.uploadProfileImg_callback");
	
};

scwin.uploadProfileImg_callback = function(returnValue) {

	if(returnValue==null)return;

	var rsJSON=jsonLib.parse(returnValue);
	
	if (rsJSON[0].FILE_PATH != "") {
	
		//파일업로드를 하기 전에 이전 정보를 삭제한다.
		//팝업창->서버업로드 로직이 한번에 가기 때문에 여기서 초기화 시키면 된다.
		dtlTestList2.removeAll();

		var uprow=dtlTestList2.insertRow();
		
		dtlTestList2.setCellData(uprow, "FILE_PATH", rsJSON[0].FILE_PATH);	//물리저장경로(임시폴더임)
		dtlTestList2.setCellData(uprow, "PFIL_NAME", rsJSON[0].PFIL_NAME);	//물리파일명

		dtlTestList2.setCellData(uprow, "ENFC_CODE", dtlTestList1.getCellData( grdTM_BRCHXM.getFocusedRowIndex() , "ENFC_CODE" ) );	//사업장
		dtlTestList2.setCellData(uprow, "STDS_DATE", dtlTestList1.getCellData( grdTM_BRCHXM.getFocusedRowIndex() , "STDS_DATE" ) );	//기준일
		dtlTestList2.setCellData(uprow, "FILE_TYPE", "S");	//서명/증명사진 구분(A : 증명사진, S : 서명 이미지)	
		dtlTestList2.modifyRowStatus( uprow , "C" );//해당 첨부파일 저장
		
		//FILE_PATH: "E:/CoreERP/workspace/CoreERP_V6/src/main/webapp/upload/tmp/"
		var FILE_PATH = rsJSON[0].FILE_PATH;
		var PFIL_NAME = rsJSON[0].PFIL_NAME;
		var EXTN_NAME = rsJSON[0].EXTN_NAME;
		
		///cmm/lib/imageView.do 컨트롤러는 확장자가 없으면 .jpg를 붙이는데
		//tmp 파일의 경우 원래 확자장자가 안붙어서 jpg와 gif 를 구분하지 못한다.
		//.GIF 의 경우 .jpg로 변경되서 보인다.
		var url = "/cmm/lib/imageView.do?path=" + FILE_PATH + "&name=" + PFIL_NAME;
		
		//저장하기 전에는 /upload/tmp/[PFIL_NAME] 파일업로드 임시 파일을 보여준다. 
		imgSTMP_FILE.setSrc(url);
		
		//이후 저장버튼 (save00)을 실행했을때 인사마스터 테이블에 저장되고
		//save00 -> scwin.getCommonSearch(); -> scwin.changerowindex() 에서 dtlHR_MASTXM 의 파일패스로 보여준다.
	}
};
		



//javascript 함수 선언부 끝
		
]]></script>
		<w2:migration value="true" />
		<w2:require src="/ws/cmm/lib/udc/gridToolMenu.xml"></w2:require>
	</head>
	<body ev:onpageload="scwin.onpageload">
		<xf:group id="" class="grp_WF_frame" style="left:0px;top:0px;" tagname="">
			<xf:group class="grp_WF_header" id="" style="">
				<w2:wframe class="wfr_WF_title" id="wfrTitle" src="/ws/cmm/lib/comtitle.xml" style=""></w2:wframe>
			</xf:group>
			<xf:group style="" id="" class="grp_WF_contents">
				<xf:group style="" id="" class="grp_WF_contents_inner">
					<xf:group class="grp_WF_button" id="grpButtonArea" style="">
						<xf:group class="grp_WFBA_user" id="" style=""></xf:group>
						<w2:wframe class="wfr_WFBA_com" id="wfrButtonList" src="/ws/cmm/lib/combutton.xml" style="" tabIndex=""></w2:wframe>
					</xf:group>
					<xf:group class="grp_WF_search line1" id="grpSearchArea" style="">
						<xf:group class="tbl_WFSA_layout" id="" style="" tagname="table">
							<w2:attributes>
								<w2:summary></w2:summary>
							</w2:attributes>
							<xf:group tagname="caption"></xf:group>
							<xf:group tagname="colgroup">
								<xf:group style="" tagname="col"></xf:group>
								<xf:group style="width:105px;" tagname="col"></xf:group>
								<xf:group tagname="col" style=""></xf:group>
								<xf:group tagname="col" style="width:150px;"></xf:group>
								<xf:group style="" tagname="col"></xf:group>
								<xf:group style="" tagname="col"></xf:group>
							</xf:group>
							<xf:group class="" id="" style="" tagname="tbody">
								<xf:group style="height:36px;" tagname="tr">
									<xf:group class="" tagname="th">
										<w2:attributes></w2:attributes>
										<w2:textbox class="" for="ipcSHRSTDS_DATE " id="txtSHRSTDS_DATE" label="기준일" style=""></w2:textbox>
									</xf:group>
									<xf:group class="" style="" tagname="td"><w2:inputCalendar calendarValueType="yearMonthDate" class="req" focusOnDateSelect="false"
											footerDiv="false" id="ipcSHRSTDS_DATE" renderDiv="true" renderType="component" rightAlign="false" style="height: 23px;width:100%;"
											ref="data:dtmTest1.STDS_DATE" mandatory="true">
										</w2:inputCalendar></xf:group>
									<xf:group tagname="th" class="">
										<w2:attributes></w2:attributes>
										<w2:textbox class="" for='iptSHRENFC_NAME' id="txtSHRENFC_NAME" label="사업장" style=""></w2:textbox>
									</xf:group>
									<xf:group tagname="td" class=""><w2:attributes></w2:attributes><xf:input adjustMaxLength="false" class="" ev:onviewchange="scwin.openHelpDialog"
											id="iptSHRENFC_NAME" ref="data:dtmTest1.ENFC_NAME" style="width:100%;height:23px;" mandatory="">
										</xf:input></xf:group>
								</xf:group>
							</xf:group>
						</xf:group>
					</xf:group>
					<xf:group class="grp_WFSA_ctrl" id="grpSearchAreaCtrl" style="width:100%;height:17px;">
						<xf:trigger class="btn_WFSA_toggle" id="btnSearchAreaToggle"
							style="position:absolute;left:869px;margin-left:-36px;width:72px;height:17px;" type="button">
							<xf:label></xf:label>
						</xf:trigger>
					</xf:group>
					<xf:group style="" id="" class="grp_WF_body">
						<xf:group style="" id="" class="grp_WF_body_inner">
							<xf:group class="grp_WF_toolbar" id="" style="position:absolute;top:0px;left:0px;right:0px;">
								<xf:output class="opt_WF_subTitle" id="" label="" style="">
									<xf:label><![CDATA[사업장 리스트]]></xf:label>
								</xf:output>
								<xf:output class="opt_WF_rowCount" id="optInformation" label="" style="">
									<xf:label><![CDATA[[ 0건 ]]]></xf:label>
								</xf:output>
								<xf:group class="grp_WF_toolbarBtn" id="" style="">
									<w2:UDC_gridTool class="" disabled="" id="btnTM_BRCHXM"
										style="position:relative;float:left;width: 24px;height: 23px;margin-left:4px;" targetGridID="grdTM_BRCHXM">
									</w2:UDC_gridTool>
								</xf:group>
							</xf:group>
							<xf:group class="grdTM_BRCHXM_grid" id=""
								style="position:absolute;top:28px;left:0px;right:0px;bottom: 292px;">
								<w2:gridView dataList="dtlTestList1" autoFit="" editModeEvent="ondblclick" gridName="사업장관리 리스트"
									id="grdTM_BRCHXM" keyMoveEditMode="true" oddEvenColorDisplay="" oddRowBackgroundColor="" readOnlyTabIgnore="true" resize="true"
									sortable="true" style="position:absolute;top:0px;left:0px;right:0px;bottom:0px;" readOnly="true" userData1="" userData2=""
									readOnlyBackgroundColor="" defaultCellHeight="28" scrollByColumn="false" scrollByColumnAdaptive="false">
									<w2:caption style="" id="caption1" value="사업장관리."></w2:caption>
									<w2:header columnStyle="" id="header1" style="" width="">
										<w2:row>
											<w2:column id="HD_ENFC_CODE" inputType="text" style="height:20px;" value="사업장코드"
												valueType="binary" width="80" displayMode="label" class="req">
											</w2:column>
											<w2:column id="HD_ENFC_NAME" inputType="text" style="height:20px;" value="사업장명"
												valueType="binary" width="180" displayMode="label" class="req">
											</w2:column>
											<w2:column id="HD_PBGN_CODE" style="height:20px;" inputType="text" width="100"
												valueType="binary" value="사업장구분" displayMode="label" class="req">
											</w2:column>
											<w2:column id="HD_RPRS_NAME" style="height:20px;" inputType="text" width="120"
												valueType="binary" value="대표자" displayMode="label" class="req">
											</w2:column>
											<w2:column id="HD_BIZR_NUMB" style="height:20px;" inputType="text" width="120"
												valueType="binary" value="사업자번호" displayMode="label" class="req">
											</w2:column>
											<w2:column id="HD_CORP_NUMB" style="height:20px;" inputType="text" width="120"
												valueType="binary" value="법인번호" displayMode="label" class="req">
											</w2:column>
											<w2:column id="HD_BUTY_NAME" style="height:20px" inputType="text" width="100" valueType="binary"
												value="업태" displayMode="label" class="edt">
											</w2:column>
											<w2:column id="HD_BUSI_LTNM" style="height:20px" inputType="text" width="100" valueType="binary"
												value="종목" displayMode="label" class="edt">
											</w2:column>
											<w2:column id="HD_DCLR_OFFC_NAME" style="height:20px" inputType="text" width="180"
												valueType="binary" value="신고사업장" displayMode="label" class="req">
											</w2:column>
										</w2:row>
									</w2:header>
									<w2:gBody columnStyle="" id="gBody3" style="height:20px" width="3312">
										<w2:row>
											<w2:column dataType="text" id="ENFC_CODE" imeMode="auto" inputType="text" maxLength="10"
												readOnly="true" style="height:20px" textAlign="center" valueType="binary" width="80">
											</w2:column>
											<w2:column id="ENFC_NAME" inputType="text" style="height:20px" valueType="binary" width="180"
												readOnly="true" textAlign="left">
											</w2:column>
											<w2:column id="PBGN_CODE" style="height:20px" inputType="select" width="100" valueType="binary"
												chooseOption="true" chooseOptionLabel="&amp;nbsp;">
												<w2:choices></w2:choices>
											</w2:column>
											<w2:column id="RPRS_NAME" style="height:20px" inputType="text" width="120" valueType="binary"></w2:column>
											<w2:column id="BIZR_NUMB" style="height:20px" inputType="text" width="120" valueType="binary"
												displayFormat="###-##-#####">
											</w2:column>
											<w2:column id="CORP_NUMB" style="height:20px" inputType="text" width="120" valueType="binary"
												displayFormat="######-#######">
											</w2:column>
											<w2:column id="BUTY_NAME" style="height:20px" inputType="text" width="100" valueType="binary"
												textAlign="left">
											</w2:column>
											<w2:column id="BUSI_LTNM" style="height:20px" inputType="text" width="100" valueType="binary"
												textAlign="left">
											</w2:column>
											<w2:column id="DCLR_OFFC_NAME" style="height:20px" inputType="text" width="180"
												valueType="binary" textAlign="left">
											</w2:column>
										</w2:row>
									</w2:gBody>
								</w2:gridView>
							</xf:group>
							<xf:group class="grp_WF_toolbar" id="" style="position:absolute;left:0px;right:0px;bottom:254px;">
								<xf:output class="opt_WF_subTitle" id="" label="" style="">
									<xf:label><![CDATA[사업장 세부정보 입력]]></xf:label>
								</xf:output>
								<xf:group class="grp_WF_toolbarBtn" id="" style=""></xf:group>
							</xf:group>


						</xf:group>
						<xf:group class="grp_WF_detail" id="grpTM_BRCHXM"
							style="position:absolute;right:0px;height:254px;bottom:0px;left:0px;">
							<xf:group class="tbl_WFDA_layout" id="" style="" tagname="table">
								<xf:group tagname="caption" style=""></xf:group>
								<xf:group tagname="colgroup" style="">
									<xf:group style="width:120px;" tagname="col"></xf:group>
									<xf:group style="width:200px;" tagname="col"></xf:group>
									<xf:group style="width:120px;" tagname="col"></xf:group>
									<xf:group style="width:400px;" tagname="col"></xf:group>
									<xf:group style="width:120px;" tagname="col"></xf:group>
									<xf:group style="width:200px;" tagname="col"></xf:group>
									<xf:group style="width:120px;" tagname="col"></xf:group>
									<xf:group tagname="col" style="width:300px;"></xf:group>
								</xf:group>
								<xf:group style="" id="" class="" tagname="tbody">
									<xf:group id="" style="height:36px;" tagname="tr">

										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptENFC_CODE" id="optENFC_CODE" label="사업장코드" style="" tagname="">
											</w2:textbox>
										</xf:group>

										<xf:group style="" id="" class="" tagname="td">
											<xf:input adjustMaxLength="" class="req" id="iptENFC_CODE" readOnly="true"
												ref="data:dtlTestList1.ENFC_CODE" style="width:100%;height: 23px;" dataType="text" maxByteLength="10">
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptENFC_NAME" id="optENFC_NAME" label="사업장명" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="" class="req" dataType="text" id="iptENFC_NAME" maxByteLength="100"
												maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass=""
												ref="data:dtlTestList1.ENFC_NAME" style="width:100%;height: 23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptSTDS_DATE" id="optSTDS_DATE" label="기준일" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" tagname="td">
											<w2:inputCalendar calendarValueType="yearMonthDate" class="" focusOnDateSelect="false"
												footerDiv="false" id="ipcSTDS_DATE" ref="" renderDiv="true" renderType="component" rightAlign="false"
												style="width:105px;height: 23px;">
											</w2:inputCalendar>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptENGL_OFFN" id="optENGL_OFFN" label="영문명" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="" class="" dataType="text" id="iptENGL_OFFN" maxByteLength="100"
												maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass=""
												ref="data:dtlTestList1.ENGL_OFFN" style="width:100%;height: 23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
									</xf:group>
									<xf:group id="" style="height:36px;" tagname="tr">
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptPRNT_OFFN" id="optPRNT_OFFN" label="출력이름" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="" class="req" dataType="text" id="iptPRNT_OFFN" maxByteLength="100"
												maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass=""
												ref="data:dtlTestList1.PRNT_OFFN" style="width:100.00%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptBIZR_NUMB" id="optBIZR_NUMB" label="사업자번호" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="0-9" applyFormat="all" class="req" dataType="text"
												displayFormat="###-##-#####" id="" maxByteLength="10" maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle=""
												readOnly="" readOnlyClass="" ref="data:dtlTestList1.BIZR_NUMB" style="width:100.00%;height:23px;" tabIndex=""
												fireEventOnInvalid="iptBIZR_NUMB">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptCORP_NUMB" id="optCORP_NUMB" label="법인번호" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="0-9" applyFormat="all" class="req" dataType="text"
												displayFormat="######-#######" id="iptCORP_NUMB" maxByteLength="13" maxlength="" minByteLength="" minlength="" onFocusClass=""
												onFocusStyle="" readOnly="" readOnlyClass="" ref="data:dtlTestList1.CORP_NUMB" style="width:100%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptRPRS_NAME" id="optRPRS_NAME" label="대표자" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="" applyFormat="" class="req" dataType="text" displayFormat=""
												id="iptRPRS_NAME" maxByteLength="" maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly=""
												readOnlyClass="" ref="data:dtlTestList1.RPRS_NAME" style="width:100.00%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
									</xf:group>
									<xf:group id="" style="height:36px;" tagname="tr">
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptRERN_NUMB" id="optRERN_NUMB" label="주민등록번호" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="" applyFormat="" class="" dataType="text" displayFormat="######-#######"
												id="iptRERN_NUMB" maxByteLength="13" maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly=""
												readOnlyClass="" ref="data:dtlTestList1.RERN_NUMB" style="width:100.00%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptBUTY_NAME" id="optBUTY_NAME" label="업태" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="" class="" dataType="text" id="iptBUTY_NAME" maxByteLength="100"
												style="width:100%;height:23px;" tabIndex="" ref="data:dtlTestList1.BUTY_NAME">
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptBUSI_LTNM" id="optBUSI_LTNM" label="종목" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:input allowChar="" class="" dataType="text" id="iptBUSI_LTNM" maxByteLength="100"
												maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass=""
												ref="data:dtlTestList1.BUSI_LTNM" style="width:100%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptDUTY_FREE" id="optDUTY_FREE" label="면세업종여부" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:select appearance="full" cols="" falseValue="0" id="chbDUTY_FREE"
												ref="data:dtlTestList1.DUTY_FREE" rows="" selectedindex="-1" style="width:20px;height:23px;" mandatory="true">
												<xf:choices>
													<xf:item>
														<xf:label></xf:label>
														<xf:value><![CDATA[1]]></xf:value>
													</xf:item>
												</xf:choices>
											</xf:select>
										</xf:group>
									</xf:group>
									<xf:group id="" style="" tagname="tr">

										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptPBGN_CODE" id="optPBGN_CODE" label="사업장구분" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<xf:select1 activeStyle="" allOption="false" appearance="minimal" chooseOption="true"
												chooseOptionLabel="&amp;nbsp;" class="req" disabled="false" displayMode="" id="cmbPBGN_CODE" mandatory=""
												ref="data:dtlTestList1.PBGN_CODE" style="width:100%;height:23px;" submenuSize="auto" tabIndex=""
												disabledClass="w2selectbox_disabled" direction="auto">
												<xf:choices></xf:choices>
											</xf:select1>
										</xf:group>
										<xf:group class="" id="" style="" tagname="th">
											<w2:textbox class="" for="IptDCLR_OFFC" id="optDCLR_OFFC" label="대표사업장" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group class="" id="" style="" tagname="td">
											<xf:group class="grp_WF_cp" id="" style="">
												<xf:group class="" id="" style=" ">
													<xf:input adjustMaxLength="false" disabled="" id="iptDCLR_OFFC" readOnly="true"
														ref="data:dtlTestList1.DCLR_OFFC" style="width:120px;height:23px;text-align: center;" maxByteLength="10" class="req">
													</xf:input>
												</xf:group>
												<xf:group class="" id="" style="">
													<xf:trigger class="btn_WF_helpPopup" ev:onclick="scwin.openHelpDialog"
														id="imgHelpDCLR_OFFC" style="" type="button">
														<xf:label></xf:label>
													</xf:trigger>
												</xf:group>
												<xf:group class="" id="" style="width:100%;">
													<xf:input adjustMaxLength="false" class="req" ev:onviewchange="scwin.openHelpDialog"
														id="iptDCLR_OFFC_NAME" ref="data:dtlTestList1.DCLR_OFFC_NAME" style="width:100%;height:23px;">
													</xf:input>
												</xf:group>
											</xf:group>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptESTA_DATE" id="optESTA_DATE" label="설립일" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<w2:inputCalendar calendarValueType="yearMonthDate" class="" focusOnDateSelect="false"
												footerDiv="false" id="ipcESTA_DATE" ref="data:dtlTestList1.ESTA_DATE" renderDiv="true" renderType="component" rightAlign="false"
												style="width:105px;height: 23px;">
											</w2:inputCalendar>
										</xf:group>
										<xf:group style="" id="" class="" tagname="th">
											<w2:textbox class="" for="iptCLOS_DATE" id="optCLOS_DATE" label="폐업일" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group style="" id="" class="" tagname="td">
											<w2:inputCalendar calendarValueType="yearMonthDate" class="" focusOnDateSelect="false"
												footerDiv="false" id="ipcCLOS_DATE" ref="data:dtlTestList1.CLOS_DATE" renderDiv="true" renderType="component" rightAlign="false"
												style="width:105px;height: 23px;">
											</w2:inputCalendar>
										</xf:group>
									</xf:group>
									<xf:group tagname="tr" id="" style="height:36px;">
										<xf:group tagname="th" toolTip="" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptUSEX_YSNO" id="optUSEX_YSNO" label="사용여부" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:select1 allOption="false" appearance="minimal" chooseOption="true"
												chooseOptionLabel="&amp;nbsp" class="req" direction="auto" disabled="false" disabledClass="w2selectbox_disabled"
												id="cmbUSEX_YSNO" ref="data:dtlTestList1.USEX_YSNO" style="width:100%;height:23px;text-align:center;" submenuSize="auto">
											</xf:select1>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptPOST_NUMB" id="optPOST_NUMB" label="주소" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:group class="grp_WF_cp" id="" style="">
												<xf:group class="" id="" style="">
													<xf:input adjustMaxLength="false" disabled="" id="iptPOST_NUMB" readOnly="true"
														ref="data:dtlTestList1.POST_NUMB" style="width:120px;height:23px;text-align: center;" class="" maxByteLength="6"
														dataType="text">
													</xf:input>
												</xf:group>
												<xf:group class="" id="" style="">
													<xf:trigger class="btn_WF_helpPopup" ev:onclick="scwin.openHelpDialog"
														id="imgHelpPOST_NUMB" style="" type="button">
														<xf:label></xf:label>
													</xf:trigger>
												</xf:group>
												<xf:group class="" id="" style="width:100%;">
													<xf:input adjustMaxLength="false" class="" ev:onviewchange="scwin.openHelpDialog"
														id="iptDTL1_ADDR" ref="data:dtlTestList1.DTL1_ADDR" style="width:100%;height:23px;" maxByteLength="200">
													</xf:input>
												</xf:group>
												<xf:group class="" id="" style="">
													<xf:trigger class="btn_WF_helpPopup" ev:onclick="scwin.openHelpDialog"
														id="imgDeltPOST_NUMB" style="display: none;" type="button">
														<xf:label></xf:label>
													</xf:trigger>
												</xf:group>
												<xf:group class="" id="" style="width:100%;">
													<xf:input adjustMaxLength="false" class="" ev:onviewchange="scwin.openHelpDialog"
														id="iptDTL2_ADDR" maxByteLength="200" ref="data:dtlTestList1.DTL2_ADDR" style="width:120px;height:23px;margin-left: 2px;">
													</xf:input>
												</xf:group>
											</xf:group>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptENGL_ADDR" id="optENGL_ADDR" label="영문주소" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="" class="" dataType="text" id="iptENGL_ADDR" maxByteLength="200"
												maxlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass="" ref="data:dtlTestList1.ENGL_ADDR"
												style="width:100%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
												<w2:colspan>1</w2:colspan>
												<w2:rowspan>3</w2:rowspan>
											</w2:attributes>
											<w2:textbox class="" for="iptCLOS_DATE" id="textbox2" label="사업장직인" style="" tagname=""></w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes>
												<w2:colspan>1</w2:colspan>
												<w2:rowspan>3</w2:rowspan>
											</w2:attributes>
											<xf:group id="" style="position:relative;height:100%;width:100%;">
												<xf:image id="imgSTMP_FILE" longdesc="" ref="" src=""
													style="position:absolute;width:95px;height:95px;" toolTip="">
												</xf:image>


												<xf:group style="position:absolute;top:401px;left:1044px;width:44px;height:53px;" id=""
													class="">
												</xf:group>
												<xf:group style="top:409px;left:477.6000061035156px;width:44px;height:53px;" id=""
													class="">
													<xf:trigger type="button"
														style="position:absolute;top:30px;left:150px;height:23px;width: 44px;" id="btnImgReg" class="btn_WF_nm dtl"
														ev:onclick="scwin.image2_onclick">
														<xf:label><![CDATA[등록]]></xf:label>
													</xf:trigger>
													<xf:trigger class="btn_WF_nm dtl" id="btnImgDel"
														style="position:absolute;top:60px;left:150px;height: 23px;width: 44px;" type="button" ev:onclick="scwin.image1_onclick">
														<xf:label><![CDATA[삭제]]></xf:label>
													</xf:trigger>
												</xf:group>
											</xf:group>
										</xf:group>
									</xf:group>
									<xf:group tagname="tr" id="" style="height:36px;">
										<xf:group tagname="th" toolTip="" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptTXOF_CODE" id="optTXOF_CODE" label="관할세무소" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:group class="grp_WF_cp" id="" style="">
												<xf:group class="" id="" style="width:100%">
													<xf:input adjustMaxLength="false" disabled="" id="iptTXOF_NAME" readOnly="true"
														ref="data:dtlTestList1.TXOF_NAME" style="width:100%;height:23px;text-align: center;" class="" maxByteLength="10"
														ev:onviewchange="scwin.openHelpDialog">
													</xf:input>
												</xf:group>
												<xf:group class="" id="" style="">
													<xf:trigger class="btn_WF_helpPopup" ev:onclick="scwin.openHelpDialog"
														id="imgHelpTXOF_CODE" style="" type="button">
														<xf:label></xf:label>
													</xf:trigger>
												</xf:group>
												<xf:group class="" id="" style="width:100%;display: none;">
													<xf:input adjustMaxLength="false" class="req" ev:onviewchange="scwin.openHelpDialog"
														id="iptTXOF_CODE" ref="data:dtlTestList1.TXOF_CODE" style="width:100%;height:23px;display: none;">
													</xf:input>
												</xf:group>
											</xf:group>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptCIOF_CODE" id="optCIOF_CODE" label="관할구청" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:group class="grp_WF_cp" id="" style="">
												<xf:group class="" id="" style="width:100%">
													<xf:input adjustMaxLength="false" disabled="" id="iptCIOF_NAME" readOnly="true"
														ref="data:dtlTestList1.CIOF_CODE" style="width:100%;height:23px;text-align: center;" class=""
														ev:onviewchange="scwin.openHelpDialog">
													</xf:input>
												</xf:group>
												<xf:group class="" id="" style="">
													<xf:trigger class="btn_WF_helpPopup" ev:onclick="scwin.openHelpDialog"
														id="imgHelpCIOF_CODE" style="" type="button">
														<xf:label></xf:label>
													</xf:trigger>
												</xf:group>
												<xf:group class="" id="" style="width:100%;">
													<xf:input adjustMaxLength="false" class="req" ev:onviewchange="scwin.openHelpDialog"
														id="iptCIOF_CODE" ref="data:dtlTestList1.CIOF_CODE" style="width:100%;height:23px;display: none;">
													</xf:input>
												</xf:group>
											</xf:group>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptTELE_NUMB" id="optTELE_NUMB" label="전화번호" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="" class="" dataType="text" id="iptTELE_NUMB" maxByteLength="20"
												maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass=""
												ref="data:dtlTestList1.TELE_NUMB" style="width:100%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
									</xf:group>
									<xf:group tagname="tr" id="" style="height:36px;">
										<xf:group tagname="th" toolTip="" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptHMTX_IDXX" id="optHMTX_IDXX" label="홈텍스ID" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="" class="" dataType="text" id="iptHMTX_IDXX" maxByteLength="50" readOnly=""
												readOnlyClass="" ref="data:dtlTestList1.HMTX_IDXX" style="width:100%;height:23px;">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptENFC_NUMB" id="optENFC_NUMB" label="종사업자번호" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="0-9" class="" dataType="text" id="iptENFC_NUMB" mandatory=""
												maxByteLength="4" maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly=""
												readOnlyClass="inputReadonly" ref="data:dtlTestList1.ENFC_NUMB" style="width:100%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
										<xf:group tagname="th" id="" class="">
											<w2:attributes>
												<w2:scope>row</w2:scope>
											</w2:attributes>
											<w2:textbox class="" for="iptFAXX_NUMB" id="optFAXX_NUMB" label="팩스번호" style="" tagname="">
											</w2:textbox>
										</xf:group>
										<xf:group tagname="td" id="" class="">
											<w2:attributes></w2:attributes>
											<xf:input allowChar="" class="" dataType="text" id="iptFAXX_NUMB" maxByteLength="20"
												maxlength="" minByteLength="" minlength="" onFocusClass="" onFocusStyle="" readOnly="" readOnlyClass="inputReadonly"
												ref="data:dtlTestList1.FAXX_NUMB" style="width:100%;height:23px;" tabIndex="">
												<xf:label></xf:label>
											</xf:input>
										</xf:group>
									</xf:group>
								</xf:group>
							</xf:group>
						</xf:group>
					</xf:group>
				</xf:group>

			</xf:group>

		</xf:group>
	</body>
</html>
